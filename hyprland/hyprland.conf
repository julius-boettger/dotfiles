# import device-specific config
source = /etc/dotfiles/hyprland/extra-config.conf

# start background processes
exec-once = /etc/dotfiles/autostart.sh wayland &

# environment variables
env = XDG_CURRENT_DESKTOP,Hyprland

### window rules
# https://wiki.hyprland.org/Configuring/Window-Rules/

windowrule = noblur,      ^(ulauncher)$
windowrule = noanim,      ^(ulauncher)$
windowrule = noborder,    ^(ulauncher)$
windowrule = noshadow,    ^(ulauncher)$
windowrule = stayfocused, ^(ulauncher)$

### variables
# https://wiki.hyprland.org/Configuring/Variables/

input {
    kb_layout = de
    sensitivity = -0.7
    follow_mouse = 1
    touchpad {
        natural_scroll = false
    }
}

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 3
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = master
}

decoration {
    rounding = 10
    drop_shadow = true
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
    blur {
        enabled = true
        size = 3
        passes = 1
    }
}

gestures {
    workspace_swipe = false
}

animations {
    # https://wiki.hyprland.org/Configuring/Animations/
    enabled = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # https://wiki.hyprland.org/Configuring/Dwindle-Layout/
    pseudotile = true
    preserve_split = true
}

master {
    # https://wiki.hyprland.org/Configuring/Master-Layout/
    new_is_master = false
}

### keybinds
# https://wiki.hyprland.org/Configuring/Binds/

$mod = SUPER

# run programs
bindr = $mod           , Super_L, exec, ulauncher-toggle
bind  = $mod           , return , exec, alacritty
bind  = $mod           , E      , exec, pcmanfm
bind  = $mod           , B      , exec, firefox
bind  = $mod      SHIFT, S      , exec, flameshot gui
bind  = $mod      SHIFT, O      , exec, alacritty -e journalctl --user -xeft onedrive
bind  = $mod CTRL SHIFT, O      , exec, systemctl --user restart onedrive

# client handling
bind  = $mod           , Q    , killactive,
bind  = $mod           , space, togglefloating,

# power state stuff
bind  = $mod CTRL SHIFT, L, exit,
bind  = $mod CTRL SHIFT, S, exec, systemctl suspend
bind  = $mod CTRL SHIFT, H, exec, systemctl hibernate

# disable/enable second monitor
# (set $second_monitor and $second_monitor_config for this to work)
bind  = $mod           , P, exec, hyprctl keyword monitor "$second_monitor, disable"
bind  = $mod CTRL      , P, exec, hyprctl keyword monitor "$second_monitor_config"

# scroll through workspaces while holding $mod
bind  = $mod           , mouse_down, workspace, e+1
bind  = $mod           , mouse_up  , workspace, e-1

# move/resize windows with mouse buttons while holding $mod
bindm = $mod           , mouse:272, movewindow
bindm = $mod           , mouse:273, resizewindow

# move focus
bind  = $mod           , h, movefocus, l
bind  = $mod           , l, movefocus, r
bind  = $mod           , k, movefocus, u
bind  = $mod           , j, movefocus, d

# switch workspace
bind  = $mod           , 1, workspace,  1
bind  = $mod           , 2, workspace,  2
bind  = $mod           , 3, workspace,  3
bind  = $mod           , 4, workspace,  4
bind  = $mod           , 5, workspace,  5
bind  = $mod           , 6, workspace,  6
bind  = $mod           , 7, workspace,  7
bind  = $mod           , 8, workspace,  8
bind  = $mod           , 9, workspace,  9
bind  = $mod           , 0, workspace, 10

# move active window to workspace
bind  = $mod      SHIFT, 1, movetoworkspace,  1
bind  = $mod      SHIFT, 2, movetoworkspace,  2
bind  = $mod      SHIFT, 3, movetoworkspace,  3
bind  = $mod      SHIFT, 4, movetoworkspace,  4
bind  = $mod      SHIFT, 5, movetoworkspace,  5
bind  = $mod      SHIFT, 6, movetoworkspace,  6
bind  = $mod      SHIFT, 7, movetoworkspace,  7
bind  = $mod      SHIFT, 8, movetoworkspace,  8
bind  = $mod      SHIFT, 9, movetoworkspace,  9
bind  = $mod      SHIFT, 0, movetoworkspace, 10